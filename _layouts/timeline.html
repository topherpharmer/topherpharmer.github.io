<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Timeline</title>
        <link rel="stylesheet" href="{{ "/assets/css/timeline_style.css " | prebend: site.baseurl }}">
        <link rel="stylesheet" href="/assets/css/card_list.css ">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Archivo+Narrow">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

        <script>
            var postList = [
                {% for post in site.posts %}
                    {
                        tags: [
                            {% for tag in post.tags %}
                                "{{ tag }}"
                                {% unless forloop.last %},{% endunless %}
                            {% endfor %}],
                        url: "{{ post.url }}",
                        date: "{{ post.date | date_to_long_string }}",
                        type: "{{ post.type }}",
                        title: "{{ post.title }}",
                        subtitle: "{{ post.subtitle }}",
                        thumbnail: "{{ post.thumbnail }}",
                        excerpt:  "{{ post.content | strip_html | truncatewords: 50 }}"
                    }{% unless forloop.last %},{% endunless %}
                {% endfor %}
            ];

            function getCards(tag)
            {
                var temp = [];
                for (let i = 0; i < postList.length; i++)
                {
                    for (let j = 0; j < postList[i].tags.length; j++)
                        if (postList[i].tags[j] == tag)
                        {
                            temp.unshift(postList[i]);
                        }
                }
                return temp;
            }

            function updateList(tag)
            {
                var listElement = document.getElementById("list");

                listElement.innerHTML = "";

                var cardList = getCards(tag);

                for (let i = 0; i < cardList.length; i++)
                {
                    listElement.innerHTML +=
                        `<a href='${cardList[i].url}'><li class='card'>
                            <img src='${cardList[i].thumbnail}'>
                            <article class='content'>
                                <h2>${cardList[i].title}</h2>
                                <h3>${cardList[i].subtitle}</h3>
                                <p>${cardList[i].excerpt}</p>
                                <footer>${cardList[i].type} - ${cardList[i].date}</footer>
                            </article>
                        </li></a>`;
                }
                $(window).trigger('resize');
            }
        </script>
    </head>
    <body>
        <div class="intro_card">
            <nav class="navbar">
                <a href="/Timeline/"><img class="logo" src="/assets/images/Icons/Logo_Black.svg"></a>
                <ul>
                    <li><a id="timeline" onclick="updateTimeline('Timeline')">Timeline</a></li>
                    <li><a id="blogs" onclick="updateTimeline('Blogs')">Blogs</a></li>
                    <li><a id="projects" onclick="updateTimeline('Projects')">Projects</a></li>
                    <li><a id="about-me" href="/pages/about-me.html">About Me</a></li>
                    <li><a id="resume" href="/pages/resume.html">Resume</a><div class="highlight"></div></li>
                </ul>
            </nav>
            <div class="info">
                <h1>Christopher Geis</h1>
                <p>
                    I'm a computer engineering student at the University of Nebraksa at Omaha.
                    <br><br>
                    This site will act as a space for me to document my progress through various projects.
                </p>
            </div>
            <div class="accent_img">
                <img class="avatar" src="/assets/images/avatar1_no_bg.png"></img>
            </div>
            <ul class="social">
                <div class="rect"></div>
                <h1>CONTACTS</h1>
    
                <li><a href={{ site.linkedin_url }}><img src="/assets/images/Icons/Linkedin.png"></a></li>
                <li><a href={{ site.github_url }}><img src="/assets/images/Icons/Github.png"></a></li>
                <li><a href={{ site.facebook_url }}><img src="/assets/images/Icons/Facebook.png"></a></li>
                <li><a href="mailto:geis.christopher@gmail.com"><img src="/assets/images/Icons/Email.png"></a></li>
            </ul>
        </div>

        <!--sidebar-->
        <!--{% include sidebar.html %}-->

        <!--Navbar-->
        <!--{% include navbar.html %}-->

        <!--Card List-->
        <!--<div class="card_list" >
            <ul id="list"></ul>
        </div>
        <script>updateList("update");</script>-->
    </body>
</html>